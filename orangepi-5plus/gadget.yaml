---
# SPDX-License-Identifier: GPL-2.0
# Copyright (C) 2022 Isaac True

volumes:
  orange-pi-5plus:
    schema: "gpt"
    bootloader: u-boot
    structure:
      - name: u-boot
        offset: 32768
        type: bare
        size: 16777216
        content:
          - image: u-boot-rockchip.bin
        update:
          edition: 3
      - name: ubuntu-seed
        role: system-seed
        filesystem: vfat
        type: "0C,C12A7328-F81F-11D2-BA4B-00A0C93EC93B"
        size: 1500M
        content:
          - source: boot.scr
            target: /
        update:
          edition: 3
      - name: ubuntu-boot
        role: system-boot
        filesystem: vfat
        type: "83,0FC63DAF-8483-4772-8E79-3D69D8477DE4"
        size: 1500M
        content:
          - source: boot.sel
            target: uboot/ubuntu/boot.sel
      - name: ubuntu-save
        role: system-save
        filesystem: ext4
        type: "83,0FC63DAF-8483-4772-8E79-3D69D8477DE4"
        size: 16M
      - name: ubuntu-data
        role: system-data
        filesystem: ext4
        type: "83,0FC63DAF-8483-4772-8E79-3D69D8477DE4"
        size: 512M

defaults:
  system:
    watchdog:
      runtime-timeout: 30s
    system:
      network:
        netplan:
          network:
            version: 2
            ethernets:
              r8125:
                match:
                  driver: r8169
                  name: en*
                dhcp4: true
                dhcp6: true
                optional: true
